<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <title>Konnektoren - Your Adventure in German Grammar</title>
        <script>
            // Single Page Apps for GitHub Pages
            // MIT License
            // https://github.com/rafgraph/spa-github-pages
            // Modified to work with Konnektoren's routing system
            (function () {
                var segmentCount = 0;
                var l = window.location;
                var query = "";

                // Convert path to query parameters
                if (l.pathname !== "/" && l.pathname !== "/index.html") {
                    var pathSegments = l.pathname.slice(1).split("/");
                    if (pathSegments[0] === "challenge") {
                        query = "page=challenge&id=" + pathSegments[1];
                    } else if (pathSegments[0] === "results") {
                        query = "page=results&code=" + pathSegments[1];
                    } else {
                        query = "page=" + pathSegments[0];
                    }
                }

                // Append existing query parameters
                if (l.search) {
                    query += (query ? "&" : "") + l.search.slice(1);
                }

                // Redirect to the main page with the correct query parameters
                l.replace(
                    l.protocol +
                        "//" +
                        l.hostname +
                        (l.port ? ":" + l.port : "") +
                        l.pathname
                            .split("/")
                            .slice(0, 1 + segmentCount)
                            .join("/") +
                        "/?/" +
                        (query ? query + "&" : "") +
                        "redirect=true" +
                        l.hash,
                );
            })();
        </script>
    </head>
    <body></body>
</html>
